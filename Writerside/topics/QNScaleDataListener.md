# QNScaleDataListener

数据监听器，测量的相关数据在这里回调

## 方法

### onGetUnsteadyWeight

收到了秤上传的实时重量，可以用来同步显示秤端的数值

#### 参数

| 名称   | 类型                            | 说明                                                                                              |
| :----- | :------------------------------ | :------------------------------------------------------------------------------------------------ |
| device | [QNBleDevice](./QNBleDevice.md) | 上传实时数据的设备。                                                                              |
| weight | double                          | 连接 APP 进行测量时，秤上面的数值变化，APP 会有同步数据回调，只做 UI 的展示，不作为最后数据保存。 |

### onGetScaleData

获取到了实时的稳定测量数据，在连接 APP 的情况下，进行测量，数据会进入到这个回调

#### 参数

| 名称   | 类型                            | 说明                                          |
| :----- | :------------------------------ | :-------------------------------------------- |
| device | [QNBleDevice](./QNBleDevice.md) | 上传数据的设备。                              |
| data   | [QNScaleData](./QNScaleData.md) | Yolanda测量数据，包含了体重，BMI、体脂率等数据。 |

### onGetStoredScale

获取到了存储数据，这种数据是用户在测量的时候没有连接 APP，数据会存储到秤端，然后等下次连接的时候，秤会把存储的数据上传到 APP 中，然后就会进入到这个回调。

#### 参数

| 名称           | 类型                                            | 说明                                                                                                                            |
| :------------- | :---------------------------------------------- | :------------------------------------------------------------------------------------------------------------------------------ |
| device         | [QNBleDevice](./QNBleDevice.md)                 | 上传数据的设备。                                                                                                                |
| storedDataList | List<[QNScaleStoreData](./QNScaleStoreData.md)> | 存储数据列表，旧款秤顶多存储 20 条数据，新款则可以存储 40 条数据。QNScaleStoreData 传入用户资料(即 QNUser) 可以生成 QNScaleData |

### onGetElectric

获取电量

目前仅支持充电款的秤。当电量少于 20%时，可认为电量较低

| 名称     | 类型                            | 说明             |
| :------- | :------------------------------ | :--------------- |
| device   | [QNBleDevice](./QNBleDevice.md) | 上传数据的设备。 |
| electric | int                             | 电量 单位 %      |

## onScaleStateChange

测量状态变化后的方法回调，该方法不是蓝牙连接状态的回调

#### 参数

| 名称       | 类型                            | 说明                                             |
| :--------- | :------------------------------ | :----------------------------------------------- |
| device     | [QNBleDevice](./QNBleDevice.md) | 蓝牙设备对象                                     |
| scaleState | int                             | 参考[秤状态码](../attouched_list/scale_state.md) |

## onScaleEventChange

秤事件的回调

#### 参数

| 名称       | 类型                            | 说明                                           |
| :--------- | :------------------------------ | :--------------------------------------------- |
| device     | [QNBleDevice](./QNBleDevice.md) | 蓝牙设备对象                                   |
| scaleEvent | int                             | 参考[秤事件](../attouched_list/scale_event.md) |


### readSnComplete
公版蓝牙秤设备获取SN码成功

#### 参数

| 名称   | 类型                            | 说明         |
| :----- | :------------------------------ | :----------- |
| device | [QNBleDevice](./QNBleDevice.md) | 蓝牙设备对象 |
| sn | string           | SN码     |
