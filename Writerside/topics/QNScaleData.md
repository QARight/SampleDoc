# QNScaleData

Yolanda体脂称测量数据，包含了体重，BMI、体脂率等数据。

## 属性

|    名称     |         类型          |                     说明                     |
| :---------: | :-------------------: | :------------------------------------------: |
|    user     | [QNUser](./QNUser.md) | 测量的用户，包含 userId,性别，生日，身高等。 |
| measureTime |         Date          |             测量的时间，精确到秒             |
|    hmac     |        String         |                数据的特征标识                |
|    height    |       Double         |                身高                |
|    heightMode    |       int         |                身高模式 （1 为体脂模式，0 为体重模式）               |
<!-- |    weight    |       Double         |                体重               |
|    resistance50    |       int         |                50阻抗              |
|    resistance500    |       int         |               500阻抗            | -->


## 方法

### getItem

获取单个的指标，如果没有指定的 type，则返回 NULL

#### 参数

| 名称 | 类型 | 说明               |
| :--- | :--- | :----------------- |
| type | int  | 指标类型，参考附表 |

#### 返回值

类型：[QNScaleItemData](./QNScaleItemData.md)

单个的指标对象，包含这个指标的值，英文名称，是否达标等。

### getItemValue

获取单个指标的值，只会返回这个指标的值

#### 参数

| 名称 | 类型 | 说明               |
| :--- | :--- | :----------------- |
| type | int  | 指标类型，参考附表 |

#### 返回值

类型：double

返回浮点数类型，有些指标的值实际上是 int 类型，APP 需要自己转化。

### getAllItem

以列表的形式返回该条测量所有的指标，如果该测量数据无效，则除了体重和 BMI 的指标外，其它的指标数据的值都为 0

#### 返回值

类型：List<[QNScaleItemData](./QNScaleItemData.md)>

指标列表，顺序会按照 TYPE 排序，APP 如果需要重新定义顺序，则需要自己排序。

### setFatThreshold

数据稳定拟合

用于控制数据突变，缓解指标数据突变过大的问题，用户秤调用此方法进行数据稳定拟合后,有可能产生拟合后的的指标与秤端显示的数据不一致的情况。

> 使用注意事项:<br/>1.该方法只有在身体资料以及体重没有发生太大的变化才能使用；<br/>2.接入方必须保存数据的特征标识`hmac`,以便进行数据稳定拟合；<br/>3.必须在调用该方法进行控制后再获取相关的指标数值，否则会出现数据错乱

#### 参数

| 名称      | 类型                                      | 说明                                                                                                                                                                 |
| :-------- | :---------------------------------------- | :------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| hmac      | String                                    | 上次 同一人,同一台设备,有效测量(即测到体脂测量数据)的数据特征标识,不可为 nil                                                                                                        |
| threshold | Double                                    | 体脂的最大误差控制，该值只对四电极测量数据有效, 只是控制大概范围，不会精确控制。<br /> 比如值为 2,那么当此次测量体脂与上次相差大于 2 时，则该次测量的体脂会控制在与上次测量的体脂相差 2 左右 |
| callback  | [QNResultCallback](./QNResultCallback.md) | 是否设置成功                                                                                                                                                         |
